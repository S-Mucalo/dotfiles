[general]
accounts = UC_mail, gmail, yahoo
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
pythonfile = ~/.offlineimap.py
maxsyncaccounts = 3
socktimeout = 45

[Account UC_mail]
localrepository = UC_Local
remoterepository = UC_Remote
autorefresh = 5
quick = 5
# postsynchook =pkill -2 -u $UID mu && sleep 2 && mu index --maildir=~/.mail/
postsynchook = ionice -c 3 chrt --idle 0 /bin/sh -c "notmuch new && ./mail/tag_new"

[Repository UC_Local]
type = Maildir
localfolders = ~/.mail/UC_mail

[Repository UC_Remote]
type = IMAP
remotehost = exchange.canterbury.ac.nz
starttls = yes
remoteuser = spm105
folderfilter = lambda foldername: foldername not in ['Contacts', 'Calendar', 'Junk E-Mail', 'Notes', 'RSS Feeds', 'Journal', 'Tasks']
remotepasseval = keyring.get_password("offlineimap", "exchange.canterbury.ac.nz")
keepalive = 60
holdconnectionopen = yes

[Account gmail]
localrepository = gmail_Local
remoterepository = gmail_Remote
autorefresh = 30
quick = 5

[Repository gmail_Local]
type = Maildir
localfolders = ~/.mail/gmail_mail

[Repository gmail_Remote]
type = Gmail
remoteuser = shaunmucalo@gmail.com
remotepasseval = keyring.get_password("offlineimap", "shaunmucalo@gmail.com")


# nametrans = lambda foldername: re.sub ('^\[gmail\]', '')
folderfilter = lambda foldername: foldername not in ['[Gmail]/All Mail']

# folderfilter = lambda foldername: foldername in ['Sent', 'INBOX', 'Drafts', 'Trash']

# Necessary as of OfflineIMAP 6.5.4
sslcacertfile = /etc/ssl/certs/ca-certificates.crt


[Account yahoo]
localrepository = yahoo_Local
remoterepository = yahoo_Remote
autorefresh = 10
quick = 3

[Repository yahoo_Local]
type = Maildir
localfolders = ~/.mail/yahoo_mail

[Repository yahoo_Remote]
type = IMAP
remoteuser = s_mucalo@yahoo.co.nz
remotehost = imap.mail.yahoo.com
remoteport = 993
remotepasseval = keyring.get_password("offlineimap", "s_mucalo@yahoo.co.nz")
starttls = no
ssl = yes
sslcacertfile = /etc/ssl/certs/ca-certificates.crt

folderfilter = lambda foldername: foldername in ['Inbox', 'Drafts', 'Sent','Trash']

[mbnames]
enabled = yes
filename = ~/.mutt/mailboxes
header = "mailboxes "
peritem = "+%(accountname)s/%(foldername)s"
sep = " "
footer = "\n"

